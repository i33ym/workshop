# Подтверждение платежа

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /payment/{payment_uuid}:
    put:
      summary: Подтверждение платежа
      deprecated: false
      description: >-
        В случае получения ошибки с кодом **ERROR_DEBIT_UNKNOWN** или
        **ERROR_CALLBACK_TIMEOUT**, необходимо проверять статус платежа пока не
        будет получен конечный статус (success или error)
      tags:
        - Оплата на странице Партнера
      parameters:
        - name: payment_uuid
          in: path
          description: ''
          required: true
          example: 83e73262-b626-11f0-af7c-005056b4367d
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                otp:
                  type: string
                  description: Одноразовый пароль для подтверждения операции
                debit_available:
                  type: boolean
                  description: |-
                    Если передан true, в случае, если на карте 
                    недостаточно средств, будет списана 
                    доступная на карте сумма
              required:
                - otp
                - debit_available
              x-apidog-orders:
                - otp
                - debit_available
            example:
              otp: '50112'
              debit_available: false
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties: {}
                x-apidog-orders: []
              example: |-
                {
                    "success": true,
                    "data": {PaymentModel}
                }
          headers: {}
          x-apidog-name: Подтверждение платежа
        '400':
          description: При вводе некорректного код пароля, возвращается ошибку с кодом 400
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Статус запроса
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        description: Кодовое сообщение
                      details:
                        type: string
                        description: Описание ошибки
                    required:
                      - code
                      - details
                    x-apidog-orders:
                      - code
                      - details
                    description: Ошибка
                required:
                  - success
                  - error
                x-apidog-orders:
                  - success
                  - error
              example:
                success: false
                error:
                  code: ERROR_WRONG_OTP
                  details: Неверный код подтверждения
          headers: {}
          x-apidog-name: Запрос с неправильным кодом подтверждения
        x-400:Повторный запрос после подтверждения платежа:
          description: >-
            При запросе подтверждения уже подтвержденного ранее платежа,
            возвращается ошибка с кодом 400
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Статус запроса
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        description: Кодовое сообщение
                      details:
                        type: string
                        description: Описание ошибки
                    required:
                      - code
                      - details
                    x-apidog-orders:
                      - code
                      - details
                    description: Ошибка
                required:
                  - success
                  - error
                x-apidog-orders:
                  - success
                  - error
              example:
                success: false
                error:
                  code: ERROR_FIELDS
                  details: Платеж подтвержден ранее
          headers: {}
          x-apidog-name: Повторный запрос после подтверждения платежа
      security: []
      x-apidog-folder: Оплата на странице Партнера
      x-apidog-status: released
      x-run-in-apidog: https://app.apidog.com/web/project/1022226/apis/api-19729314-run
components:
  schemas: {}
  securitySchemes:
    bearer:
      type: http
      scheme: bearer
servers: []
security:
  - bearer: []

```
