# Создать заявку на холдирование

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /payment/hold:
    post:
      summary: Создать заявку на холдирование
      deprecated: false
      description: ''
      tags:
        - Холдирование
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                card:
                  type: object
                  properties:
                    token:
                      type: string
                      description: |-
                        Max length:255
                        Токен карты для проведения платежных операций с картой
                  required:
                    - token
                  x-apidog-orders:
                    - token
                  x-apidog-ignore-properties: []
                amount:
                  type: integer
                  description: |+
                    Сумма платежа в тийинах

                store_id:
                  type: integer
                  description: >+
                    ID (int) или UUID (string) кассы, выданный со стороны
                    Multicard

                invoice_id:
                  type: string
                  description: >-
                    Max length:255

                    Любой идентификатор заказа в системе Партнера. Будет
                    возвращен в callback-запросе. Также по нему можно искать
                    платежи в кабинете мерчанта
                expiry:
                  type: integer
                  description: >-
                    Minimum:1

                    Maximum:43200

                    Срок действия холдирования в минутах. После этого времени
                    средства будут возвращены на карту. Допустимо не более 30
                    дней (43200)
                split:
                  $ref: '#/components/schemas/splitRequest'
              required:
                - card
                - amount
                - store_id
                - invoice_id
                - expiry
              x-apidog-orders:
                - card
                - amount
                - store_id
                - invoice_id
                - expiry
                - split
              x-apidog-ignore-properties: []
            example:
              card:
                token: 6225f3c93f7a880142782fa4
              amount: 10000000
              store_id: 15
              invoice_id: '18177'
              expiry: 43200
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties: {}
                x-apidog-orders: []
                x-apidog-ignore-properties: []
              example: |-
                {
                    "success": true,
                    "data": {
                        "id": 753967,
                        "status": "draft",
                        "expiry": "2025-03-08 23:12:15",
                        "added_on": "2025-03-07 23:12:15",
                        "updated_on": null,
                        "payment": {PaymentModel}
                    }
                }
          headers: {}
          x-apidog-name: HoldModel
        '400':
          description: >-
            При отправке запроса с допущением ошибки валидации, возвращается
            ошибка с кодом 400
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Статус запроса
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        description: Кодовое сообщение
                      details:
                        type: string
                        description: Описание ошибки
                    required:
                      - code
                      - details
                    x-apidog-orders:
                      - code
                      - details
                    description: Ошибка
                    x-apidog-ignore-properties: []
                required:
                  - success
                  - error
                x-apidog-orders:
                  - success
                  - error
                x-apidog-ignore-properties: []
              examples:
                '2':
                  summary: Example 1
                  value:
                    success: false
                    error:
                      code: ERROR_FIELDS
                      details: Необходимо заполнить «Amount».
                '3':
                  summary: Example 1
                  value:
                    success: false
                    error:
                      code: ERROR_FIELDS
                      details: Необходимо заполнить «Amount».
          headers: {}
          x-apidog-name: Ошибочная валидация
        'x-400:Запрос с некорректным номером карты или срока действия ':
          description: >-
            При попытке создании платежа с указанным неверным токеном карты,
            возвращается ошибка с кодом 400
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Статус запроса
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        description: Кодовое сообщение
                      details:
                        type: string
                        description: Описание ошибки
                    required:
                      - code
                      - details
                    x-apidog-orders:
                      - code
                      - details
                    description: Ошибка
                    x-apidog-ignore-properties: []
                required:
                  - success
                  - error
                x-apidog-orders:
                  - success
                  - error
                x-apidog-ignore-properties: []
              example:
                success: false
                error:
                  code: ERROR_CARD_NOT_FOUND
                  details: Неверный номер карты или срок действия
          headers: {}
          x-apidog-name: 'Запрос с некорректным номером карты или срока действия '
      security: []
      x-apidog-folder: Холдирование
      x-apidog-status: released
      x-run-in-apidog: https://app.apidog.com/web/project/1022226/apis/api-19729318-run
components:
  schemas:
    splitRequest:
      type: array
      items:
        type: object
        properties:
          type:
            type: string
            enum:
              - account
              - wallet
              - card
            x-apidog-enum:
              - value: account
                name: ''
                description: Расчетный счет
              - value: wallet
                name: ''
                description: Депозит приложения
              - value: card
                name: ''
                description: Банковская карта
            description: Тип получателя
          amount:
            type: integer
            description: Сумма платежа
          details:
            type: string
            description: Детали платежа
          recipient:
            type: string
            description: >-
              Получатель. Если type=account, то передается uuid банковских
              реквизитов. По-умолчанию подставляются банковские реквизиты
              мерчанта.
        x-apidog-orders:
          - type
          - amount
          - details
          - recipient
        required:
          - type
          - amount
          - details
        x-apidog-ignore-properties: []
      x-apidog-folder: ''
  securitySchemes:
    bearer:
      type: http
      scheme: bearer
servers: []
security:
  - bearer: []

```
